<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

@extends('layouts.new-app')

@section('content')
<div class="flex">
    <nav class="flex flex-col items-start bg-gray-800 p-12 rounded-3xl">
        <div id="addVulnerability" class="mb-4 transition-transform transform hover:scale-110 focus:scale-110 shadow-md rounded-md bg-red-500 border-blue-300 h-14 p-4 flex items-center justify-center">
            <a href="#" class="text-white font-semibold text-xl font-mono" onclick="toggleForm('vulnerabilityForm')">
                Add Vulnerability
            </a>
        </div>

        <div class="mb-4 transition-transform transform hover:scale-110 focus:scale-110 shadow-md rounded-md bg-red-500 border-blue-300 h-14 p-4 flex items-center justify-center">
            <a href="{{ route('about') }}" class="text-white font-semibold text-lg font-mono">
                Update Vulnerability
            </a>
        </div>

        <!-- You can add more menu items here -->

        <div class="mb-4 transition-transform transform hover:scale-110 focus:scale-110 shadow-md rounded-md bg-red-500 border-blue-300 h-14 flex items-center justify-center p-4">
            <a href="{{ route('resources') }}" class="text-white font-semibold text-lg font-mono">
                Delete Vulnerability
            </a>
        </div>
    </nav>

    <div id="vulnerabilityForm" class="hidden p-4 w-full lg:w-2/3">
        <!-- Your form content goes here -->
       
        <!-- Add form fields and submit button -->
        <!-- Add more form fields as needed -->
        <div class="productlist p-2">
            @if ($errors->any())
                <div class="bg-red-600 border-solid rounded-md border-2 border-red-700">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li class="text-lg text-gray-100">{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif
            <form method="POST" action="/vulnerabilities">
                @csrf    
                <div class="p-2 m-2 rounded-lg shadow-lg bg-gray-50 border-2 border-blue-900 max-w-md">
                    <div class="font-bold text-sm mb-2">
                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3" id="name" name="name" type="text" placeholder="V-Name">
                    </div>
                    <p class="text-gray-700 text-sm">
                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3" id="severity" name="severity" type="text" placeholder="V-Severity">
                    </p>
                    <p class="text-gray-700 text-sm">
                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3" id="mitigation" name="mitigation" type="text" placeholder="V-Mitigation">
                    </p>
                    <p class="text-gray-700 text-sm">
                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3" id="is_fixed" name="is_fixed" type="number" min="0" max="1" placeholder="Fix Status">
                    </p>   
                    <p class="text-gray-700 text-sm">
                        <textarea class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3" id="description" name="description" type="text" placeholder="V - Description" cols="30" rows="10"></textarea>
                    </p>
                    <div class="flex items-center justify-end mt-4">
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded text-xs uppercase hover:underline">Add New</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    function toggleForm(formId) {
        var form = document.getElementById(formId);
        form.classList.toggle('hidden');
    }
</script>

@endsection
