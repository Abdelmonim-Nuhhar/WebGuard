// vulnerability.js

window.onload = function () {
    document.addEventListener('change', e => {
        if (e.target.matches('select.select-box')) {
            //example for dropdown list event
        }
    });
    document.addEventListener('click', e => {
        if (e.target.matches('button.remove-v')) {
            deleteProductByID(e.target.value);
        }
    });
}

async function deleteProductByID(id) {
    try {
        const response = await axios.delete("/vulnerabilities/" + id);

        if (response.data.msg === "success") {
            alert("Successfully Deleted");
            window.location = "/vulnerabilities";
        } else {
            alert("Delete operation failed.");
        }
    } catch (error) {
        console.error("Error deleting product:", error);
        alert("An error occurred while deleting the product, OR YOU ARE NOT ADMIN.");
    }
}
